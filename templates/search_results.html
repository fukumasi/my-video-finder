<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>検索結果 - My Video Finder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header>
        <h1>My Video Finder</h1>
        <nav>
            <a href="/">ホーム</a>
            <a href="/logout">ログアウト</a>
            <a href="/profile">プロフィール</a>
        </nav>
    </header>
    <main>
        <section>
            <h2>検索結果: {{ query or genre }}</h2>
            <div class="filters">
                <span>ソート: </span>
                <select onchange="location = this.value;">
                    <option value="{{ url_for('search', query=query, genre=genre, sort='relevance') }}" {% if sort == 'relevance' %}selected{% endif %}>関連性</option>
                    <option value="{{ url_for('search', query=query, genre=genre, sort='date') }}" {% if sort == 'date' %}selected{% endif %}>日付</option>
                    <option value="{{ url_for('search', query=query, genre=genre, sort='views') }}" {% if sort == 'views' %}selected{% endif %}>視聴回数</option>
                </select>
            </div>
            <div class="search-results">
                {% for video in videos %}
                <div class="search-item">
                    <a href="{{ url_for('video_detail', video_id=video.id.videoId) }}">
                        <img src="{{ video.snippet.thumbnails.high.url }}" alt="{{ video.snippet.title }}">
                    </a>
                    <div>
                        <h3><a href="{{ url_for('video_detail', video_id=video.id.videoId) }}">{{ video.snippet.title }}</a></h3>
                        <p>{{ video.snippet.description }}</p>
                        <p>視聴回数: {{ video.statistics.viewCount }} 回</p>
                        <p>投稿日: {{ video.snippet.publishedAt }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 My Video Finder. All rights reserved.</p>
    </footer>
</body>
</html>
